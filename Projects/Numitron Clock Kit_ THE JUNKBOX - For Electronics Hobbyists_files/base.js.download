
var storeFront=(function($){let init,updateFooterMargins,setCountriesStates,homeSlider=null,homeProductsSlider=null,homeCategoriesSlider=null,homeManufacturersSlider=null;updateFooterMargins=function(){let h=0;if($('body footer').length>0){h=$('body footer').height();}
$('body').css('margin-bottom',h);};setCountriesStates=function(countrySelector,currentCountry,stateSelector,currentState,provinceSelector,currentProvince,countriesStates){$(countrySelector+" select").change(function(){var currentCountry=$(countrySelector+" select option:selected").attr("value");var _currentCountry=currentCountry;for(var i=1;i<=5;i++){if(_currentCountry.length<5)_currentCountry='0'+_currentCountry;}
_currentCountry='c'+_currentCountry;if(countriesStates[_currentCountry].zip_required=='0'){$('.input-zip').parent().closest('tr').removeClass('required');$('#billing_postal_code_field').removeClass('required');}else{$('.input-zip').parent().closest('tr').addClass('required');$('#billing_postal_code_field').addClass('required');}
if(countriesStates[_currentCountry].has_provinces==true){if(countriesStates[_currentCountry].states){var statesHTML='';statesHTML+='<option value="">'+msg.select_state_or_province+'</option>';jQuery.each(countriesStates[_currentCountry].states,function(stateId,stateName){var _stateId=parseInt(stateId.substring(1),10);statesHTML+='<option value="'+_stateId+'" '+(_stateId==currentState?'selected="selected"':'')+'>'+stateName+'</option>';});$(stateSelector+" select").html(statesHTML);var currentState=$(stateSelector+' select option:selected').attr('value');if(currentState<1){$(stateSelector+' select option:first').attr('selected','selected');}else{$(stateSelector+' select').val(currentState);}
$('#field-billing-state').addClass('required');$(provinceSelector).hide();$(stateSelector).show();}else{$('.field-input-provinces').each(function(){$(this).addClass('required');});$('.input-states').val('');$(stateSelector).hide();$(provinceSelector).show();}}else{if(countriesStates[_currentCountry].states){var statesHTML='';statesHTML+='<option value="">'+msg.select_state_or_province+'</option>';jQuery.each(countriesStates[_currentCountry].states,function(stateId,stateName){var _stateId=parseInt(stateId.substring(1),10);statesHTML+='<option value="'+_stateId+'" '+(_stateId==currentState?'selected="selected"':'')+'>'+stateName+'</option>';});$(stateSelector+" select").html(statesHTML);var currentState=$(stateSelector+' select option:selected').attr('value');if(currentState<1){$(stateSelector+' select option:first').attr('selected','selected');}else{$(stateSelector+' select').val(currentState);}
$('.field-input-states').each(function(){$(this).removeClass('required');});$(provinceSelector).hide();$(stateSelector).show();}else{$('.field-input-provinces').each(function(){$(this).removeClass('required');});$('.input-states').val('');$(stateSelector).hide();$(provinceSelector).show();}}});var countriesHTML='';jQuery.each(countriesStates,function(countryId,countryData){var _countryId=parseInt(countryId.substr(1,5),10);countriesHTML+='<option value="'+_countryId+'" '+(_countryId==currentCountry?'selected="selected"':'')+'>'+countryData.country_name+'</option>';});$(countrySelector+" select").html(countriesHTML);var currentCountry=$(countrySelector+" select option:selected").attr("value");if(currentCountry<1){$(countrySelector+' select option:first').attr('selected','selected');}else{$(countrySelector+' select').val(currentCountry);}
$(countrySelector+" select").change();var _currentCountry=currentCountry;for(var i=1;i<=5;i++){if(_currentCountry.length<5)_currentCountry='0'+_currentCountry;}
_currentCountry='c'+_currentCountry;if(countriesStates[_currentCountry].states!=null&&countriesStates[_currentCountry].states!='undefined'&&countriesStates[_currentCountry].states){var statesHTML='';statesHTML+='<option value="">'+msg.select_state_or_province+'</option>';jQuery.each(countriesStates[_currentCountry].states,function(stateId,stateName){var _stateId=parseInt(stateId.substr(1,5),10);statesHTML+='<option value="'+_stateId+'" '+(_stateId==currentState?'selected="selected"':'')+'>'+stateName+'</option>';});$(stateSelector+" select").html(statesHTML);$(provinceSelector).hide();$(stateSelector).show();}else{$(provinceSelector+" input[type='text']").val(currentProvince);$(stateSelector).hide();$(provinceSelector).show();}};init=function(){$(document).ready(function(){$(window).on('load',function(){$('.rating').rating();});$('body').css('display','block');$(window).on('load resize',function(){updateFooterMargins();});if($('body').hasClass('page-home')){if($('#home-slider').length>0){homeSlider=new Swiper('#home-slider',{autoplay:{delay:5000},loop:true,navigation:{nextEl:'.home-slider-next',prevEl:'.home-slider-prev',},pagination:{el:'.home-slider-pagination',clickable:true}});}
if($('#home-products-slider').length>0){homeProductsSlider=new Swiper('#home-products-slider',{autoplay:{delay:5000},slidesPerView:4,spaceBetween:20,loop:false,navigation:{nextEl:'.home-products-slider-next',prevEl:'.home-products-slider-prev',},breakpoints:{480:{slidesPerView:1},768:{slidesPerView:2,spaceBetween:15},992:{slidesPerView:3,spaceBetween:15}}});}
if($('#home-categories-slider').length>0){homeCategoriesSlider=new Swiper('#home-categories-slider',{autoplay:{delay:5000},slidesPerView:4,spaceBetween:20,loop:false,navigation:{nextEl:'.home-categories-slider-next',prevEl:'.home-categories-slider-prev',},breakpoints:{480:{slidesPerView:1},768:{slidesPerView:2,spaceBetween:15},992:{slidesPerView:3,spaceBetween:15}}});}
if($('#home-manufacturers-slider').length>0){homeManufacturersSlider=new Swiper('#home-manufacturers-slider',{autoplay:{delay:3000},slidesPerView:6,spaceBetween:0,loop:false,navigation:{nextEl:'.home-manufacturers-slider-next',prevEl:'.home-manufacturers-slider-prev',},breakpoints:{576:{slidesPerView:2,spaceBetween:0},768:{slidesPerView:3,spaceBetween:0},992:{slidesPerView:4,spaceBetween:0}}});}}
$('.nav-menu .dropdown-menu a.dropdown-item').on('click',function(e){var clickedMenu=$(this);var parentMenu=clickedMenu.offsetParent('.dropdown-menu');if(!clickedMenu.next().hasClass('show')){clickedMenu.parents('.dropdown-menu').first().find('.show').removeClass('show');}
var $subMenu=clickedMenu.next('.dropdown-menu');$subMenu.toggleClass('show');clickedMenu.parent('li').toggleClass('show');clickedMenu.parents('li.nav-item.dropdown.show').on('hidden.bs.dropdown',function(e){$('.dropdown-menu .show').removeClass('show');});if(!parentMenu.parent().hasClass('navbar-nav')){clickedMenu.next().css({"top":clickedMenu[0].offsetTop,"left":parentMenu.outerWidth()-3,});}
return false;});if($(".panel-catalog-categories .tree").length>0){$(".tree").treed({openedClass:'fa-minus-square',closedClass:'fa-plus-square',activeSelector:'.active'});}
$('.flash-messages .flash-message').each(function(){$.notify({message:$(this).html(),},{type:$(this).attr('data-alert-type'),delay:$(this).attr('data-alert-type')=='danger'?0:2500,mouse_over:'pause',placement:{from:"top",align:"center"},newest_on_top:true,animate:{enter:'animated fadeInDown',exit:'animated fadeOutUp'}});});if($('body').hasClass('page-catalog')){let catalogCurrentView=$('.list-products-catalog-grid').length?'grid':'list';let catalogSetGridView=function(){$('.catalog-view-list').removeClass('active');$('.catalog-view-grid').addClass('active');$('.list-products-catalog').removeClass('list-products-list').addClass('list-products-grid');$('.list-products-catalog .product').addClass('col-md-6 col-lg-4 d-flex');$('.list-products-catalog .product-wrap').removeClass('row flex-fill').addClass('d-flex flex-column h-100 w-100');$('.list-products-catalog .product-image').removeClass('col-12 col-md-3').addClass('align-self-start w-100');$('.list-products-catalog .product-info').removeClass('col-12 col-md-6');$('.list-products-catalog .product-title').addClass('mt-2');$('.list-products-catalog .product-info-bottom').addClass('align-self-end w-100');$('.list-products-catalog .product-action').removeClass('col-12 col-md-3').addClass('align-self-end w-100');$('.list-products-catalog .product-action .button-add-to-cart').removeClass('mt-md-2 w-100').addClass('ml-2');$('.list-products-catalog .product-action .input-group-quantity').removeClass('w-100');$.cookie('catalog-view','grid',{expires:365,path:'/'});catalogCurrentView='grid';};let catalogSetListView=function(){$('.catalog-view-grid').removeClass('active');$('.catalog-view-list').addClass('active');$('.list-products-catalog').removeClass('list-products-grid').addClass('list-products-list');$('.list-products-catalog .product').removeClass('col-md-6 col-lg-4 d-flex');$('.list-products-catalog .product-wrap').removeClass('d-flex flex-column h-100 w-100').addClass('row flex-fill');$('.list-products-catalog .product-image').removeClass('align-self-start w-100').addClass('col-12 col-md-3');$('.list-products-catalog .product-info').addClass('col-12 col-md-6');$('.list-products-catalog .product-title').removeClass('mt-2');$('.list-products-catalog .product-info-bottom').removeClass('align-self-end w-100');$('.list-products-catalog .product-action').removeClass('align-self-end w-100').addClass('col-12 col-md-3');$('.list-products-catalog .product-action .button-add-to-cart').removeClass('ml-2').addClass('mt-md-2 w-100');$('.list-products-catalog .product-action .input-group-quantity').addClass('w-100');$.cookie('catalog-view','list',{expires:365,path:'/'});catalogCurrentView='list';};$('.catalog-view-grid').click(function(e){e.preventDefault();e.stopPropagation();catalogSetGridView();return false;});$('.catalog-view-list').click(function(e){e.preventDefault();e.stopPropagation();catalogSetListView();return false;});}
$('a[data-toggle="tab"]').on('shown.bs.tab',function(e){$('#nav-product-reviews .rating').rating();});$('.product-quantity-decrease, .product-quantity-increase').on('click',function(){let form=$(this).closest('form.form-add-to-cart');let quantityInput=$(form).find('.product-quantity');let newQuantity=parseInt($(quantityInput).val())+($(this).hasClass('product-quantity-decrease')?-1:1);let minOrder=parseInt($(form).attr('data-min-order'));if(minOrder<1)minOrder=1;let maxOrder=$(form).attr('data-max-order');if(maxOrder!='-')maxOrder=parseInt(maxOrder);let maxAllowed=$(form).attr('data-max-allowed');if(maxAllowed!='-')maxAllowed=parseInt(maxAllowed);if(newQuantity<minOrder)newQuantity=minOrder;if(maxOrder!='-'&&newQuantity>maxOrder)newQuantity=maxOrder;if(maxAllowed!='-'&&newQuantity>maxAllowed)newQuantity=maxAllowed;$(quantityInput).val(newQuantity);return false;});$('.btn-cart-action').on('click',function(e){e.stopPropagation();e.preventDefault();$('#form-cart-oa-todo').val($(this).attr('data-action'));$('#form-cart').submit();return false;});$('#form-cart input.input-quantity').each(function(){$(this).on('focus',function(){$(this).tooltip('dispose');$(this).removeClass('is-invalid');});});$('#form-cart').on('submit',function(e){let drex=/^(\d{1,})$/;let products=new Array();$('#form-cart input.input-quantity').each(function(){$(this).on('focus',function(){$(this).tooltip('dispose');$(this).removeClass('is-invalid');});});let formError=false;$('#form-cart').find('input.input-quantity').each(function(){let quantity=parseInt($(this).val());let errorMsg=false;let dataAllowedMax=$(this).data('allowed-max');if(allowOutOfInventoryOrders){dataAllowedMax='-';}
if(!drex.test(quantity)){errorMsg=msg.enter_numeric_product_quantity;}else if(quantity<parseInt($(this).data('min-quantity'))){errorMsg=msg.number_of_items_exceeded_min;}else if(($(this).data('max-quantity')!='-')&&(quantity>parseInt($(this).data('max-quantity')))){errorMsg=msg.number_of_items_exceeded_max;}else if((dataAllowedMax!='-')&&(quantity>parseInt(dataAllowedMax))){errorMsg=msg.number_of_items_exceed_inventory.replace('%d',parseInt(dataAllowedMax));}
let pid=parseInt($(this).data('ocid'));let inventoryControl=$(this).data('inventory-control');if(products[pid]){products[pid]=products[pid]+quantity;}else{products[pid]=quantity;}
if((inventoryControl=='Yes'||inventoryControl=='AttrRuleExc')&&(dataAllowedMax!='-')){if(parseInt(dataAllowedMax)<products[pid]){errorMsg=msg.number_of_items_exceed_inventory.replace('%d',parseInt(dataAllowedMax));}}
if(errorMsg){$(this).tooltip({'title':errorMsg}).tooltip('show');$(this).addClass('is-invalid');formError=true;e.stopPropagation();}});return!formError;});$('.panel-catalog-products-filters .product-filter-options-toggle-link').click(function(){$($(this).attr('data-target')).slideToggle('fast');return false;});$('.panel-catalog-products-filters form').on('submit',function(){let filtersChecked=$('.product-filter-input:checked');let filtersArray={};$(filtersChecked).each(function(index,filter){filtersArray[$(filter).attr('name')]=[];});$(filtersChecked).each(function(index,filter){filtersArray[$(filter).attr('name')].push($(filter).val());});var filtersQueryString=[];$.each(filtersArray,function(index,data){filtersQueryString.push(index+'='+data.join(','));});filtersQueryString=filtersQueryString.join('&');let baseUrl=$(this).attr('action');window.location.href=baseUrl+(baseUrl.indexOf('?')>=0?'&':'?')+filtersQueryString;return false;}).on('reset',function(){window.location.href=$(this).attr('action');return false;});if($('.page-shipping-quote').length>0){$('#shipping_address_country').change(function(){let zeroString='c00000';let selectedCountryId=$('#shipping_address_country').val();selectedCountryId=zeroString.substr(0,6-(selectedCountryId+'').length)+selectedCountryId;$('#shipping_address_state').closest('.form-group').hide();if(typeof countriesStates[selectedCountryId]!='undefined'&&typeof countriesStates[selectedCountryId].states!='undefined'){var statesOptions='';$.each(countriesStates[selectedCountryId].states,function(stid,stateName){statesOptions+='<option value="'+parseInt(stid.substring(1))+'">'+stateName+'</option>';});if(statesOptions!=''){$('#shipping_address_state').html(statesOptions);$('#shipping_address_state').closest('.form-group').show();}}});let countriesOptions='';$.each(countriesStates,function(coid,country){countriesOptions+='<option value="'+parseInt(coid.substring(1))+'">'+country.country_name+'</option>';});$('#shipping_address_country').html(countriesOptions);$('#shipping_address_country').val(sqCountryId).change();$('#shipping_address_state').val(sqStateId);}
$('#page-cart .button-apply-promo').click(function(e){e.preventDefault();$('#form-cart').submit();});updateFooterMargins();});};init();return{updateFooterMargins:updateFooterMargins,setCountriesStates:setCountriesStates,getHomeSlider:function(){return homeSlider;},getHomeProductsSlider:function(){return homeProductsSlider;},getHomeCategoriesSlider:function(){return homeCategoriesSlider;},getHomeManufacturersSlider:function(){return homeManufacturersSlider;}};}(jQuery));function setCountriesStates(countrySelector,currentCountry,stateSelector,currentState,provinceSelector,currentProvince,countriesStates){storeFront.setCountriesStates(countrySelector,currentCountry,stateSelector,currentState,provinceSelector,currentProvince,countriesStates);}
(function($){$.fn.rating=function(){return this.each(function(){var rating=parseFloat($(this).attr('data-rating'));if(!rating)rating=0;var icon=$(this).attr('data-icon');if(!icon)icon='fa-star';var colorBg=$(this).attr('data-color-bg');if(!colorBg)icon='silver';var colorShine=$(this).attr('data-color-shine');if(!colorShine)icon='gold';var starsCount=5;var starHtml='<i class="fa '+icon+'"></i>';$(this).html('<div class="rating-wrap">'+'<span class="rating-bg" style="color:'+colorBg+'">'+starHtml.repeat(starsCount)+'</span>'+'<span class="rating-shine" style="color:'+colorShine+'">'+starHtml.repeat(starsCount)+'</span>'+'</div>');var w=$(this).find('.rating-bg').width();var h=$(this).find('.rating-bg').height();if(w==0)w=90;if(h==0)h=24;$(this).find('.rating-shine').height(h).width(0).animate({width:w/starsCount*rating},400);});};}(jQuery));